-- 기존 데이터 정리 후 새 데이터 입력 (완전 통합 스크립트)

USE kpsdb;

-- ========================================
-- 1단계: 기존 데이터 완전 삭제
-- ========================================

-- 외래키 제약조건 임시 해제
SET FOREIGN_KEY_CHECKS = 0;

-- 기존 데이터 모두 삭제
DELETE FROM rebalancing_analysis;
DELETE FROM customer_strategy; 
DELETE FROM customer_balance;
DELETE FROM trading_history;
DELETE FROM rebalancing_master;
DELETE FROM stock_current_price;

-- 외래키 제약조건 복원
SET FOREIGN_KEY_CHECKS = 1;

-- ========================================
-- 2단계: 새 데이터 입력
-- ========================================

-- 1. 종목현재가 (2,500개 - 순차적 중복 없음 보장)
INSERT INTO stock_current_price (stock_code, current_price) VALUES
('000001', 288415),
('000002', 155780),
('000003', 562545),
('000004', 695647),
('000005', 509723),
('000006', 570836),
('000007', 543767),
('000008', 231674),
('000009', 755583),
('000010', 575878),
('000011', 788465),
('000012', 406442),
('000013', 811143),
('000014', 280065),
('000015', 591699),
('000016', 739683),
('000017', 183036),
('000018', 159551),
('000019', 626683),
('000020', 47039),
('000021', 516756),
('000022', 646606),
('000023', 354961),
('000024', 201396),
('000025', 849361),
('000026', 492014),
('000027', 433525),
('000028', 88932),
('000029', 551979),
('000030', 326956),
('000031', 818767),
('000032', 799591),
('000033', 827084),
('000034', 288313),
('000035', 239674),
('000036', 90602),
('000037', 131401),
('000038', 288782),
('000039', 407509),
('000040', 669921),
('000041', 11215),
('000042', 362674),
('000043', 876019),
('000044', 636245),
('000045', 84061),
('000046', 762496),
('000047', 100226),
('000048', 318763),
('000049', 300062),
('000050', 334846),
('000051', 541160),
('000052', 101622),
('000053', 258429),
('000054', 64721),
('000055', 319542),
('000056', 200551),
('000057', 847666),
('000058', 767111),
('000059', 178979),
('000060', 155566),
('000061', 896814),
('000062', 57057),
('000063', 316429),
('000064', 38750),
('000065', 416644),
('000066', 655787),
('000067', 525181),
('000068', 132881),
('000069', 50850),
('000070', 252508),
('000071', 384255),
('000072', 134838),
('000073', 402670),
('000074', 513640),
('000075', 326087),
('000076', 321712),
('000077', 725060),
('000078', 593422),
('000079', 713922),
('000080', 457563),
('000081', 555975),
('000082', 145699),
('000083', 541419),
('000084', 315608),
('000085', 637590),
('000086', 225188),
('000087', 369251),
('000088', 276060),
('000089', 346950),
('000090', 629539),
('000091', 425490),
('000092', 39568),
('000093', 625081),
('000094', 275467),
('000095', 584963),
('000096', 176089),
('000097', 719036),
('000098', 538953),
('000099', 850421),
('000100', 425011);